cmake_minimum_required(VERSION 3.0)
project(libhttproute)
set(headers
	defines.h
	http_server_request.h
	match.h
	route.h
	route_match.h
	route_handler.h
	route_matcher.h
	route_matcher_impl.h
	router.h
)
set(sources
	match.cpp
	route.cpp
	router.cpp
)
add_library(
	${PROJECT_NAME}
	STATIC
	${headers}
	${sources}
)

# unit test
include_directories(../googletest/googletest/include)
add_executable(
	${PROJECT_NAME}_test
	${headers}
	${sources}
	router_test.cpp
)
if(WIN32)
	target_link_libraries(
		${PROJECT_NAME}_test
		../../googletest/googletest/msvc/gtest/Debug/gtestd
	)
endif(WIN32)